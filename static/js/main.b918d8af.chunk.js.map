{"version":3,"sources":["icons/money.svg","icons/tag.svg","icons/statistics.svg","icons/right.svg","icons/left.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","views/Money/TagsSection.tsx","views/Money/CategorySelection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPadSection/generateOutput.tsx","views/Money/NumberPadSection.tsx","components/Input.tsx","views/Money/NoteSection.tsx","hooks/useRecords.tsx","components/Header.tsx","views/Money.tsx","views/Statistics.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","views/NotMatch.tsx","views/Tag.tsx","views/Statistic.tsx","App.tsx","index.tsx"],"names":["symbol","add","require","Icon","props","name","children","className","rest","classNames","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","id","parseInt","window","localStorage","getItem","createId","setItem","toString","useUpdate","fn","deps","count","useTags","useState","tags","setTags","localTags","JSON","parse","length","stringify","findTag","filter","tag","updateTag","map","findTagIndex","result","i","deleteTag","onAddTag","tagName","prompt","getName","t","section","TagsSection","selectedTagIds","value","onClick","tagId","indexOf","onChange","CategorySelection","categoryMap","categoryList","category","c","generateOutput","text","output","slice","NumberPadSection","_setOutput","e","target","textContent","split","concat","newOutput","parseFloat","setOutput","onOk","Lable","label","Input","NoteSection","note","type","placeholder","useRecords","records","setRecords","addRecords","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","deleteRecords","newRecords","findRecords","Header","MyLayout","CategoryWrapper","defaultFormDate","Money","selected","setSelected","obj","Name","Item","h3","Statistics","setCategory","selectedRecords","r","hash","forEach","key","dayjs","format","push","array","Object","entries","sort","a","b","date","Button","button","Center","Space","TagList","ol","Tags","NoMatch","Topbar","header","InputWrapper","Tag","useParams","history","useHistory","goBack","Statistic","AppWrapper","App","path","exact","from","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b918d8af.chunk.js","sourcesContent":["import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M512 128c211.74 0 384 172.26 384 384S723.74 896 512 896 128 723.74 128 512s172.26-384 384-384m0-64C264.58 64 64 264.58 64 512s200.58 448 448 448 448-200.58 448-448S759.42 64 512 64z\\\" /><path d=\\\"M640 544a32 32 0 000-64h-78.86l109.25-109.26a32 32 0 00-45.25-45.25L512 438.63 398.86 325.49a32 32 0 00-45.25 45.25L462.86 480H384a32 32 0 000 64h96v64h-96a32 32 0 000 64h96v64a32 32 0 0064 0v-64h96a32 32 0 000-64h-96v-64z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M337.22 1001.781L22.168 686.728C7.423 671.882.051 653.144.051 630.107c0-22.936 7.372-41.878 22.116-56.622L553.775 22.116C568.622 7.372 587.461 0 610.499 0H945.21c22.935 0 41.877 7.372 56.622 22.116 14.744 14.847 22.116 33.686 22.116 56.622V413.45c0 23.038-7.372 41.877-22.116 56.621l-551.37 531.71c-14.743 14.745-33.583 22.117-56.62 22.117-22.936 0-41.776-7.372-56.622-22.117zM610.5 39.421c-9.83 0-18.84 4.095-27.03 12.286L51.757 602.973c-8.191 8.294-12.287 17.202-12.287 27.031 0 9.83 4.096 18.84 12.287 27.031l315.053 315.053c18.02 18.123 36.144 18.123 54.165 0l551.368-531.607c8.192-8.191 12.287-17.202 12.287-27.031V78.738c0-26.212-13.106-39.42-39.42-39.42H610.5zm265.804 246.042c-19.761 19.76-42.697 29.59-68.909 29.59s-49.249-9.83-68.908-29.59c-19.761-19.66-29.59-42.594-29.59-68.909 0-26.211 9.829-49.25 29.59-68.908 19.659-19.659 42.594-29.488 68.908-29.488s49.148 9.83 68.909 29.488c19.659 19.761 29.488 42.697 29.488 68.908 0 26.315-9.83 49.25-29.488 68.909zm-27.134-110.684c-11.467-11.467-25.392-17.304-41.775-17.304-16.382 0-30.41 5.837-41.877 17.202-11.468 11.57-17.201 25.597-17.201 41.877 0 16.383 5.733 30.41 17.201 41.878 11.468 11.467 25.393 17.201 41.877 17.201 16.383 0 30.41-5.734 41.878-17.201 11.468-11.468 17.201-25.393 17.201-41.878 0-16.28-5.836-30.307-17.304-41.775z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"statistics\",\n  \"use\": \"statistics-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"statistics\\\"><defs><style></style></defs><path d=\\\"M887 915.9H137c-19.3 0-35-15.7-35-35V143.1c0-19.3 15.7-35 35-35s35 15.7 35 35v702.8h715c19.3 0 35 15.7 35 35s-15.7 35-35 35z\\\" /><path d=\\\"M295.6 598.6c-8.8 0-17.6-3.3-24.4-9.9-13.9-13.5-14.2-35.6-.8-49.5l160.2-165.3c6.7-6.9 15.8-10.7 25.4-10.6s18.7 4.1 25.2 11l129.9 138.3L752.6 364c13.3-14 35.5-14.5 49.5-1.2s14.5 35.5 1.2 49.5l-167 175.4c-6.6 6.9-15.8 10.9-25.3 10.9h-.1c-9.6 0-18.8-4-25.4-11L455.4 449 320.7 588c-6.8 7-16 10.6-25.1 10.6z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1056 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1056 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M746.08 512.064a31.584 31.584 0 01-9.28 22.4L374.464 896.8a31.808 31.808 0 01-45.12-.128 31.904 31.904 0 01-.128-45.12L668.8 512 329.28 172.448a31.808 31.808 0 01.128-45.12 31.904 31.904 0 0145.12-.128l362.304 362.336c6.208 6.176 9.28 14.272 9.312 22.4l-.032.128z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1056 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1056 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M277.92 511.936a31.584 31.584 0 019.28-22.4L649.536 127.2a31.808 31.808 0 0145.12.128 31.904 31.904 0 01.128 45.12L355.2 512l339.52 339.552a31.808 31.808 0 01-.128 45.12 31.904 31.904 0 01-45.12.128L287.168 534.464c-6.208-6.176-9.28-14.272-9.312-22.4l.032-.128z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport classNames from 'classnames';\r\nrequire('icons/money.svg')\r\nrequire('icons/tag.svg')\r\nrequire('icons/statistics.svg')\r\nrequire('icons/right.svg')\r\nrequire('icons/left.svg')\r\n\r\ntype Props ={\r\n    name?: string;\r\n}& React.SVGAttributes<SVGAElement>\r\nconst Icon = (props: Props)=>{\r\n    const {name,children,className,...rest} = props;\r\n\r\n    return( // @ts-ignore\r\n      <svg className={classNames('icon',className)} {...rest}>\r\n          { props.name &&<use xlinkHref={'#'+props.name}/>}\r\n      </svg>\r\n  )\r\n}\r\nexport default Icon;","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport { NavLink} from 'react-router-dom';\r\n// @ts-ignore\r\nimport Icon from './Icon.tsx';\r\n\r\n\r\n\r\nconst NavWrapper = styled.nav`\r\nbackground: #dfdfef;\r\nline-height: 24px;\r\nbox-shadow: 0 0 3px rgba(0,0,0,0.25);\r\n> ul{\r\ndisplay: flex;\r\n>li{\r\n\r\nwidth: 33.3%;\r\ntext-align: center;\r\n> a{\r\ndisplay: flex;\r\nflex-direction: column;\r\npadding: 4px 0;\r\nalign-items: center;\r\n.icon{\r\nwidth: 24px;\r\nheight: 24px;\r\n}\r\n&.selected{\r\ncolor: red;\r\n.icon{\r\nfill:red;\r\n}\r\n}\r\n}\r\n\r\n\r\n\r\n\r\n}\r\n}\r\n`\r\nconst Nav = ()=>{\r\n    return(\r\n        <NavWrapper>\r\n            <ul>\r\n                <li>\r\n                    <NavLink to=\"/tags\"   activeClassName=\"selected\">\r\n                        <Icon name=\"tag\"/>标签页</NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/money\" activeClassName=\"selected\">\r\n                        <Icon name=\"money\"/>记账页</NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n                        <Icon name=\"statistics\"/>统计页</NavLink>\r\n                </li>\r\n            </ul>\r\n            </NavWrapper>\r\n    )\r\n}\r\nexport default Nav;","import Nav from './Nav';\r\nimport React, {useEffect, useRef} from 'react';\r\nimport styled from 'styled-components';\r\nconst Wrapper = styled.div`\r\n\r\nheight: 100vh;\r\ndisplay: flex;\r\nflex-direction: column;\r\n\r\n`\r\nconst Main = styled.div`\r\n\r\nflex-grow: 1;\r\noverflow: auto;\r\n`\r\ntype Props = {\r\n    className?:string;\r\n    scrollTop?:number;\r\n}\r\n\r\nconst Layout:React.FC<Props> = (props)=>{\r\n const mainRef =useRef<HTMLDivElement>(null)\r\n    useEffect(()=>{\r\n        setTimeout(()=>{\r\n            if(!mainRef.current){return}\r\n            mainRef.current.scrollTop=props.scrollTop!;\r\n        },0)\r\n    },[props.scrollTop])\r\nreturn( <Wrapper>\r\n        <Main ref={mainRef} className={props.className} >\r\n            {props.children}\r\n        </Main>\r\n        <Nav/>\r\n    </Wrapper>)\r\n\r\n}\r\nexport  default Layout;","\r\nlet id  = parseInt(window.localStorage.getItem('idMax')||'0')||0\r\nconst createId = ()=>{\r\n   id +=1;\r\n   window.localStorage.setItem('idMax',id.toString())\r\n   return id;\r\n}\r\nexport {createId}","import {useEffect, useRef} from 'react';\r\n\r\nconst useUpdate = (fn:()=>void,deps:any[])=>{\r\n    const count =useRef(0)\r\n    useEffect(()=>{\r\n        count.current +=1;\r\n    })\r\n    useEffect(()=>{\r\n        if(count.current>1) {\r\n            fn();\r\n        }\r\n\r\n    },[fn,deps])//每次产生一个新的tags才会触发\r\n}\r\nexport {useUpdate}","import {useEffect, useState} from 'react';\r\nimport {createId} from '../lib/createId';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nconst useTags= ()=>{\r\n    const [tags,setTags] = useState<{id:number,name:string}[]>([])\r\n    const findTag = (id:number)=>tags.filter(tag=>tag.id===id)[0]\r\n    const findTagIndex = (id:number)=>{\r\n        let result = -1;\r\n        for(let i = 0;i<tags.length;i++){\r\n            if(tags[i].id===id){\r\n                result=i;\r\n                break;\r\n            }\r\n        }\r\n         return result;\r\n\r\n    }\r\n    // const updateTag = (id:number,obj:{name:string})=>{\r\n    //     const index = findTagIndex(id);\r\n    //     const tagsClone = JSON.parse( JSON.stringify(tags));\r\n    //     tagsClone.splice(index,1,{id:id,name:obj.name})//返回值是被删的对象\r\n    //     setTags(tagsClone)\r\n    // }\r\n    // const deleteTag = (id:number)=>{\r\n    //     const index = findTagIndex(id);\r\n    //     const tagsClone = JSON.parse( JSON.stringify(tags));\r\n    //     tagsClone.splice(index,1)\r\n    //     setTags(tagsClone)\r\n    // }\r\n    //优化\r\n\r\n    useEffect(()=>{\r\n       let localTags =  JSON.parse(window.localStorage.getItem('tags')||'[]')\r\n        if(localTags.length===0){\r\n            localTags = [\r\n                {id:createId(),name:'衣'},\r\n                {id:createId(),name:'食'},\r\n                {id:createId(),name:'住'},\r\n                {id:createId(),name:'行'},\r\n            ]\r\n        }\r\n        setTags(localTags);\r\n    },[])\r\n    useUpdate(()=>{\r\n        window.localStorage.setItem('tags',JSON.stringify(tags))//不包含第一次更新\r\n    },tags)\r\n    const updateTag = (id:number,{name}:{name:string})=> {\r\n        setTags(tags.map(tag=>{\r\n            return tag.id === id? {id,name} : tag;\r\n        }))\r\n    }\r\n    const deleteTag = (id:number)=>{\r\n        setTags(tags.filter(tag=>tag.id!==id))//创建新的数组\r\n\r\n    }\r\n    const onAddTag = ()=>{\r\n        const tagName = window.prompt('输入您要添加的标签');\r\n        if(tagName!==null && tagName!==''){\r\n            setTags([...tags,{id: createId(),name:tagName}])\r\n        }\r\n    }\r\n    const getName = (id:number)=>{\r\n    const tag =   tags.filter(t=>t.id===id)[0]\r\n        return tag? tag.name:'标签被删除';\r\n}\r\n    return{\r\n        tags,\r\n        setTags,\r\n        findTag,\r\n        updateTag,\r\n        findTagIndex,\r\n        deleteTag,\r\n        onAddTag,\r\n        getName\r\n    }\r\n}\r\nexport {useTags}\r\n","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport {useTags} from 'hooks/useTags';\r\n\r\n\r\nconst Wrapper = styled.section`\r\npadding: 12px 16px;\r\nflex-grow: 1;\r\nbackground:#29daea;\r\ndisplay: flex;\r\nflex-direction: column;\r\njustify-content: flex-end;\r\nalign-items: flex-start;\r\n>ol{\r\nmargin: 0 -12px;\r\n>li{\r\n  background: white;\r\n  border-radius: 18px;\r\n  display: inline-block;\r\n  padding: 4px 18px;\r\n  font-size: 14px;\r\n  margin: 8px 12px;\r\n  &.selected{\r\n  background: #f60;\r\n  }\r\n  }\r\n}\r\n>button{\r\nbackground: none;\r\nborder: none;\r\nborder-bottom: 1px solid  #333;\r\npadding: 2px 4px ;\r\ncolor: #666;\r\nmargin-top: 8px;\r\n}\r\n`;\r\ntype Props = {\r\n    value: number[];\r\n    onChange: (selected:number[])=>void;\r\n}\r\nconst TagsSection: React.FC<Props> = (props)=>{\r\n    const {tags,onAddTag} = useTags()\r\n    const selectedTagIds = props.value;\r\n\r\n    const onToggleTag=(tagId:number)=>{\r\n        const index = selectedTagIds.indexOf(tagId);\r\n        if(index >=0){\r\n            props.onChange(selectedTagIds.filter(t=>t!==tagId))\r\n            //如果tag已被选中，就赋值所有没有被选中的tag，作为新的selectedTags.\r\n        }else {\r\n            props.onChange([...selectedTagIds,tagId])\r\n        }\r\n    }\r\n    const getClass =(tagId:number)=> selectedTagIds.indexOf(tagId)>=0? 'selected':'';\r\n    return (\r\n        <Wrapper>\r\n            <ol>\r\n                {tags.map(tag=><li key={tag.id}\r\n                onClick={ ()=>{onToggleTag(tag.id);}}\r\n                className={getClass(tag.id)}\r\n                >{tag.name}</li>)}\r\n            </ol>\r\n            <button onClick={onAddTag}>新增标签</button>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nexport default TagsSection;","import styled from 'styled-components';\r\nimport React, {useState} from 'react';\r\n\r\n\r\nconst  Wrapper = styled.section`\r\nfont-size: 24px;\r\n>ul{\r\ndisplay: flex;\r\n>li{\r\nposition: relative;\r\nwidth:50%;\r\ntext-align: center;\r\npadding: 16px 0;\r\n&.selected::after{\r\ncontent: '';\r\ndisplay: block;\r\nheight: 3px;\r\nbackground: #000;\r\nposition: absolute;\r\nbottom: 0;\r\nwidth: 100%;\r\nleft: 0;\r\n}\r\n}\r\n}\r\n`\r\ntype  Props ={\r\n    value:'-'|'+';\r\n    onChange:(value:'-'|'+')=>void;\r\n}\r\nconst CategorySelection :React.FC <Props>= (props)=>{\r\n    const categoryMap = {'-':'支出','+':'收入'};\r\n    type Keys = keyof typeof categoryMap;\r\n    const [categoryList] = useState<Keys[]>(['-','+'])\r\n    const category =props.value;\r\n    return(\r\n        <Wrapper>\r\n            <ul>\r\n                {\r\n                    categoryList.map(c=><li className={category === c?'selected':''}\r\n                                            key={c}\r\n                                            onClick={()=>{props.onChange(c);}}\r\n                    >{categoryMap[c]}</li>)\r\n                }\r\n\r\n\r\n            </ul>\r\n\r\n        </Wrapper>)\r\n\r\n}\r\nexport default CategorySelection;","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  >.output{\r\n  background: white;\r\n  line-height: 72px;\r\n  font-size: 72px;\r\n  text-align: right;\r\n  box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n              inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n  }\r\n  >.pad{\r\n  >button{\r\n  font-size: 18px;\r\n  float: left;\r\n  width: 25%;\r\n  height: 64px;\r\n \r\n  &.ok{float: right;height: 128px; }\r\n  &.zero{width: 50%;}\r\n  background:#29daea;\r\n  border: 5px solid white;\r\n  \r\n  }\r\n  }\r\n`\r\nexport default Wrapper;","// type InputString = '0'|'1'|'2'|'3'|'4'|'5'|'6'|'7'|'8'|'9'|'.'|'删除'|'清空'\r\nconst generateOutput = (text: string, output = '0') => {\r\n\r\n    switch (text) {\r\n        case'0':\r\n        case'1':\r\n        case'2':\r\n        case'3':\r\n        case'4':\r\n        case'5':\r\n        case'6':\r\n        case'7':\r\n        case'8':\r\n        case'9':\r\n            if (output === '0') {\r\n                return (text);\r\n            } else {\r\n                return (output + text);\r\n            }\r\n\r\n        case'.':\r\n            if (output.indexOf('.') >= 0) {\r\n                return output;\r\n            }\r\n            return (output + '.');\r\n\r\n        case '删除':\r\n            if (output.length === 1) {\r\n                return (output);\r\n            } else {\r\n                return output.slice(0, -1)||'';\r\n            }\r\n        case'清空':\r\n            return '';\r\n        default:\r\n            return '';\r\n    }\r\n\r\n};\r\nexport default generateOutput;","import React, {useState} from 'react';\r\nimport Wrapper from './NumberPadSection/Wrapper';\r\nimport generateOutput from './NumberPadSection/generateOutput';\r\n\r\ntype  Props ={\r\n    value: number;\r\n    onChange:(value:number)=>void;\r\n    onOk?:()=>void;\r\n}\r\nconst NumberPadSection:React.FC<Props>=(props)=>{\r\n    const [output,_setOutput] =useState(props.value.toString())\r\n    const setOutput = (output:string)=>{\r\n        let newOutput:string;\r\n        if(output.length>9){\r\n            newOutput=output.slice(0,9)\r\n        }else if(output.length===0){\r\n            newOutput='0'\r\n        }else{\r\n            newOutput=output\r\n        }\r\n        _setOutput(newOutput)\r\n        props.onChange(parseFloat(newOutput))\r\n    }\r\n    const onClickButtonWrapper = (e:React.MouseEvent)=>{\r\n        const text =(e.target as HTMLButtonElement).textContent\r\n        if(text===null){return}\r\n        if(text === 'ok'){\r\n            if(props.onOk){props.onOk()}\r\n            return;\r\n        }\r\n        if('0123456789.'.split('').concat(['删除','清空']).indexOf(text)>=0)\r\n        {\r\n\r\n            setOutput(generateOutput(text,output))\r\n        }\r\n\r\n    }\r\n    return(\r\n        <Wrapper>\r\n            <div className=\"output\">\r\n                {output}\r\n            </div>\r\n            <div className=\"pad clearfix\"  onClick={onClickButtonWrapper} >\r\n                <button>1</button>\r\n                <button>2</button>\r\n                <button>3</button>\r\n                <button>删除</button>\r\n                <button>4</button>\r\n                <button>5</button>\r\n                <button>6</button>\r\n                <button>清空</button>\r\n                <button>7</button>\r\n                <button>8</button>\r\n                <button>9</button>\r\n                <button className=\"ok\">ok</button>\r\n                <button className=\"zero\">0</button>\r\n                <button >.</button>\r\n\r\n            </div>\r\n        </Wrapper>\r\n    )\r\n}\r\nexport default NumberPadSection;","import React, {InputHTMLAttributes} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Lable = styled.label`\r\ndisplay: flex;\r\nalign-items: center;\r\n>span{\r\nmargin-right: 16px;\r\nwhite-space: nowrap;\r\n}\r\n>input{\r\ndisplay: block;\r\nwidth: 100%;\r\nheight: 44px;\r\nbackground: none;\r\nborder: none;\r\n}\r\n`\r\ntype Props ={\r\n    label:string;\r\n} & InputHTMLAttributes<HTMLInputElement>//继承input属性\r\nconst Input: React.FC<Props> = (props)=>{\r\n    const {label,...rest} = props;\r\n    return(\r\n        <Lable>\r\n            <span>{props.label}</span>\r\n            <input {...rest}\r\n            />\r\n        </Lable>\r\n    )\r\n};\r\n// @ts-ignore\r\nexport {Input};","import styled from 'styled-components';\r\nimport React, {ChangeEventHandler} from 'react';\r\nimport {Input} from '../../components/Input';\r\n\r\nconst Wrapper = styled.section`\r\nbackground:whitesmoke;\r\npadding: 14px 16px;\r\nfont-size: 14px;\r\n`\r\ntype Props = {\r\n    value:string;\r\n    onChange:(value:string)=>void;\r\n}\r\nconst NoteSection: React.FC<Props>=(props)=>{\r\nconst note= props.value;\r\n\r\nconst onChange:ChangeEventHandler <HTMLInputElement>= (e)=>{\r\n        props.onChange(e.target.value);\r\n\r\n}\r\n    return(\r\n        <Wrapper>\r\n            <Input label=\"备注\"\r\n                   type=\"text\"\r\n                   placeholder=\"在这里添加备注\"\r\n                   value={note}\r\n                   onChange={onChange}\r\n            />\r\n\r\n        </Wrapper>\r\n    )\r\n}\r\nexport default NoteSection;","import {useEffect, useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\n type RecordItem ={\r\n   tagIds: number[];\r\n   note:string;\r\n   category:'+'|'-';\r\n   amount: number;\r\n   createdAt:string;\r\n}\r\ntype newRecordItem ={\r\n    tagIds: number[];\r\n    note:string;\r\n    category:'+'|'-';\r\n    amount: number;\r\n}\r\n\r\nconst useRecords = ()=>{\r\n    const [records,setRecords] = useState<RecordItem[]>([])\r\n    useEffect(()=>{\r\n        setRecords(JSON.parse(window.localStorage.getItem('records')||'[]'))\r\n    },[])\r\n    const addRecords = (newRecord:newRecordItem)=>{\r\n        if(newRecord.amount<=0){\r\n            alert('请输入金额')\r\n            return false;\r\n        }\r\n        if(newRecord.tagIds.length===0){\r\n            alert('请选择标签')\r\n            return false;\r\n        }\r\n        const record = {...newRecord,createdAt: (new Date()).toISOString()};\r\n        setRecords([...records,record])\r\n        return true\r\n    };\r\n    useUpdate(()=>{\r\n\r\n        window.localStorage.setItem('records',JSON.stringify(records))\r\n    },[records])\r\n    const deleteRecords= (createdAt:string)=>{\r\n\r\n        if(records.map(t=>t.createdAt===createdAt)){\r\n          const newRecords =  records.filter(t=>t.createdAt!==createdAt)\r\n            setRecords(newRecords);\r\n        }\r\n    }\r\n    const findRecords = (id:number)=>records.filter(tag=>tag.tagIds[0]===id)[0]\r\n    return {records,addRecords,deleteRecords,findRecords}\r\n\r\n}\r\nexport {useRecords}","import styled from 'styled-components';\r\n\r\nconst Header = styled.div`\r\nfont-size: 24px;\r\ntext-align: center;\r\npadding: 10px 0;\r\nbackground: #dfdfef;\r\n`\r\nexport {Header}","import Layout from '../components/Layout';\r\nimport React, {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport TagsSection from './Money/TagsSection';\r\nimport CategorySelection from './Money/CategorySelection';\r\nimport NumberPadSection from './Money/NumberPadSection';\r\nimport NoteSection from './Money/NoteSection';\r\nimport {useRecords} from '../hooks/useRecords';\r\nimport {Header} from '../components/Header';\r\nconst MyLayout = styled(Layout)`\r\ndisplay: flex;\r\nflex-direction: column;\r\n`\r\nconst CategoryWrapper = styled.div`\r\nbackground: #29daea;\r\n`\r\n\r\nconst defaultFormDate ={\r\n    tagIds: [] as number[],\r\n        note:'',\r\n    category:'-'  as Category,\r\n    amount:0\r\n\r\n}\r\ntype Category = '-'|'+';\r\nfunction Money() {\r\n    const [selected,setSelected] = useState(defaultFormDate)\r\n    const onChange=(obj:Partial<typeof selected>)=>{//把部分值传入\r\n        setSelected({\r\n            ...selected,\r\n            ...obj\r\n        });\r\n    };\r\n    const {addRecords} =useRecords()\r\n\r\n    const submit = ()=>{\r\n        if(addRecords(selected)){\r\n            alert('保存了')\r\n            setSelected(defaultFormDate);\r\n        }\r\n\r\n    }\r\n\r\n    return(\r\n        <MyLayout className=\"xxx\" scrollTop={9999}>\r\n              <Header> 记录自己的一天</Header>\r\n            <TagsSection value = {selected.tagIds}\r\n                         onChange={ (tagIds)=>onChange({tagIds})}/>\r\n\r\n            <NoteSection value={selected.note}\r\n                         onChange={(note)=>onChange({note})}/>\r\n\r\n            <CategoryWrapper>\r\n                <CategorySelection value={selected.category}\r\n                                   onChange={(category)=>onChange({category})}/>\r\n            </CategoryWrapper>\r\n\r\n\r\n            <NumberPadSection value={selected.amount}\r\n                              onChange={(amount)=>onChange({amount})}\r\n                              onOk={submit}/>\r\n        </MyLayout>\r\n    )\r\n}\r\nexport default Money;","import Layout from '../components/Layout';\r\nimport React, {useState} from 'react';\r\nimport CategorySelection from './Money/CategorySelection';\r\nimport styled from 'styled-components';\r\nimport {useRecords} from '../hooks/useRecords';\r\nimport {useTags} from '../hooks/useTags';\r\nimport dayjs from 'dayjs';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nconst CategoryWrapper = styled.div`\r\nbackground:#dfdfef;\r\n`;\r\nconst Name = styled.div`\r\nborder-radius: 10px;\r\npadding: 5px 10px;\r\nbackground: #29daea;\r\n`\r\nconst Item = styled.div`\r\ndisplay: flex;\r\njustify-content: space-between;\r\nbackground: #fff;\r\nborder-radius: 20px;\r\nfont-size: 18px;\r\nline-height: 20px;\r\npadding: 10px 16px;\r\nmargin-top: 5px;\r\n>.note{\r\nmargin-right: auto;\r\nmargin-left: 16px;\r\ncolor: #999;\r\n}\r\n>.amount{\r\nmargin-top: 5px;\r\n}\r\n`\r\nconst Header =styled.h3`\r\nfont-size: 18px;\r\nline-height: 20px; \r\npadding: 10px 16px;\r\n`\r\ntype RecordItem ={\r\n    tagIds: number[];\r\n    note:string;\r\n    category:'+'|'-';\r\n    amount: number;\r\n    createdAt:string;\r\n}\r\nfunction Statistics() {\r\n    const [category,setCategory] = useState<'-'|'+'>('-')\r\n    const {records} = useRecords();\r\n    const {getName} = useTags();\r\n    const selectedRecords = records.filter(r=>r.category===category)//选中的category\r\n    const hash:{ [K:string]:RecordItem[] } ={}\r\n    selectedRecords.forEach(r=>{\r\n        const key =dayjs(r.createdAt).format('YYYY-MM-DD');\r\n        if(!(key in hash)){\r\n            hash[key] = [];\r\n        }\r\n        hash[key].push(r)\r\n    });\r\n\r\n    const array = Object.entries(hash).sort((a,b)=>{\r\n\r\n        if(a[0]===b[0]) return 0;\r\n        if(a[0]>b[0]) return -1;\r\n        if(a[0]<b[0]) return 1;\r\n        return 0;\r\n    })\r\n    return(\r\n        <Layout>\r\n            <CategoryWrapper>\r\n                <CategorySelection value={category}\r\n                                   onChange={value => setCategory(value)}/>\r\n\r\n            </CategoryWrapper>\r\n            {array.map(([date,records])=><div key={date}>\r\n                <Header>{date}</Header>\r\n                <div>\r\n                    {records.map(r=>{\r\n                        return <Item key={r.createdAt}>\r\n                            <Link to={\"/Statistics/\"+r.tagIds[0]} className=\"tags\">\r\n                                <Name>\r\n                                    {r.tagIds.map(t=><span key={r.tagIds[0]} > {getName(t)}</span>)}\r\n                                </Name>\r\n\r\n                            </Link>\r\n\r\n                            { r.note&&<div className=\"note\">\r\n                                {r.note}\r\n                            </div>}\r\n                            <div className=\"amount\">\r\n                                ￥{r.amount}\r\n                            </div>\r\n\r\n                            {/*{dayjs(r.createdAt).format('YYYY年MM月DD日')}*/}\r\n\r\n                        </Item>\r\n                    })}\r\n                </div>\r\n            </div>)}\r\n\r\n        </Layout>\r\n\r\n\r\n    )\r\n}\r\nexport  default Statistics;","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\nfont-size: 18px;\r\nborder: none;\r\npadding: 8px 12px;\r\nbackground:#767676;\r\nborder-radius: 4px;\r\ncolor: white;\r\n&:hover{\r\nbackground: red;\r\n}\r\n`\r\nexport {Button}","import styled from 'styled-components';\r\n\r\nconst Center =styled.div`\r\ndisplay: flex;\r\njustify-content: center;\r\nalign-items: center;\r\nflex-direction: column;\r\n`\r\nexport {Center}","import styled from 'styled-components';\r\n\r\nconst Space = styled.div`\r\nheight: 16px;\r\n`\r\nexport {Space}","import Layout from 'components/Layout';\r\nimport React from 'react';\r\nimport {useTags} from 'hooks/useTags';\r\nimport styled from 'styled-components';\r\nimport Icon from 'components/Icon';\r\nimport {Link} from 'react-router-dom';\r\nimport {Button} from 'components/Button';\r\nimport {Center} from '../components/Center';\r\nimport {Space} from '../components/Space';\r\n\r\nconst TagList = styled.ol`\r\nfont-size: 16px;\r\n\r\n>li{\r\nline-height: 20px;\r\nmargin-top: 10px;\r\n>a{\r\npadding: 12px 20px;\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\nbackground: white;\r\nborder-radius: 20px;\r\n}\r\n}\r\n`\r\nconst Header = styled.div`\r\nfont-size: 20px;\r\ntext-align: center;\r\npadding: 10px 0;\r\nbackground: #dfdfef;\r\n`\r\nfunction Tags() {\r\n    // eslint-disable-next-line\r\n   const {tags,onAddTag}= useTags()\r\n    return(\r\n        <Layout>\r\n            <Header> 所有标签</Header>\r\n            <TagList>\r\n                {tags.map(tag=>\r\n                <li key={tag.id}>\r\n                    <Link to={\"/tags/\"+tag.id}>\r\n                        <span className='oneLine'> {tag.name}</span>\r\n                        <Icon name=\"right\"/>\r\n                    </Link>\r\n\r\n                </li>)}\r\n\r\n            </TagList>\r\n            <Center>\r\n              <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Button onClick={onAddTag}>新增标签</Button>\r\n                <Space/>\r\n            </Center>\r\n\r\n        </Layout>\r\n    )\r\n}\r\nexport default Tags;","import React from 'react';\r\n\r\nfunction NoMatch(){\r\n\r\n    return<h2>404</h2>;\r\n}\r\nexport default NoMatch;","import React from 'react';\r\nimport { useParams ,useHistory} from 'react-router-dom';\r\nimport {useTags} from 'hooks/useTags';\r\nimport Layout from 'components/Layout';\r\nimport Icon from 'components/Icon';\r\nimport {Button} from 'components/Button';\r\nimport styled from 'styled-components';\r\nimport {Input} from 'components/Input';\r\nimport {Center} from 'components/Center';\r\nimport {Space} from 'components/Space';\r\ntype Params = {\r\n    id:string;\r\n}\r\nconst Topbar = styled.header `\r\n  display: flex;\r\n  justify-content: space-between;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background: #dfdfef;\r\n  align-items: center;\r\n \r\n`\r\nconst InputWrapper = styled.div`\r\nbackground: white;\r\nborder-radius: 20px;\r\nmargin-top: 8px;\r\npadding: 0 20px;\r\n`\r\n\r\nconst Tag: React.FC =()=>{\r\n    const {findTag,updateTag,deleteTag} = useTags()\r\n      let { id}= useParams<Params>()//把id命名为idString\r\n    const tag =findTag(parseInt(id))\r\n    const history = useHistory()\r\n    const onclickBack=()=>{\r\n       history.goBack()\r\n    }\r\nif(tag){\r\n    return(\r\n        <Layout>\r\n            <Topbar>\r\n                <Icon name='left' onClick={onclickBack}/>\r\n                <span>编辑标签</span>\r\n                <Icon />\r\n            </Topbar>\r\n            <InputWrapper>\r\n                <Input label=\"备注\" type=\"text\"\r\n                       placeholder=\"标签名\"\r\n                       value={tag.name}\r\n                       onChange={(e)=>{\r\n                           updateTag(tag.id,{name:e.target.value})\r\n                       }}/>\r\n            </InputWrapper>\r\n            <Center>\r\n                <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Button onClick={()=>{deleteTag(tag.id)}}>删除标签</Button>\r\n            </Center>\r\n\r\n        </Layout>\r\n\r\n    )\r\n}else {\r\n    return (\r\n        <Layout>\r\n            <Center>\r\n\r\n                标签已删除，请点击下边导航栏返回\r\n            </Center>\r\n\r\n        </Layout>\r\n\r\n    )\r\n}\r\n}\r\nexport {Tag}","import React from 'react';\r\nimport {useHistory, useParams} from 'react-router-dom';\r\nimport {useRecords} from '../hooks/useRecords';\r\nimport Layout from '../components/Layout';\r\nimport Icon from '../components/Icon';\r\nimport {Center} from '../components/Center';\r\nimport {Space} from '../components/Space';\r\nimport {Button} from '../components/Button';\r\nimport styled from 'styled-components';\r\n\r\n\r\ntype Params = {\r\n    id:string;\r\n}\r\nconst Topbar = styled.header `\r\n  display: flex;\r\n  justify-content: space-between;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background: #dfdfef;\r\n  align-items: center;\r\n \r\n`\r\nconst InputWrapper = styled.div`\r\nbackground: white;\r\nfont-size: 36px;\r\nborder-radius: 20px;\r\nmargin-top: 8px;\r\npadding: 0 20px;\r\n`\r\n\r\nconst Statistic:React.FC = ()=> {\r\n    const {findRecords, deleteRecords} = useRecords()\r\n    let {id} = useParams<Params>()//把id命名为idString\r\n    const tag = findRecords(parseInt(id))\r\n    const history = useHistory()\r\n    const onclickBack = () => {\r\n        history.goBack()\r\n    }\r\n\r\n    if (tag) {\r\n        return (\r\n            <Layout>\r\n                <Topbar>\r\n                    <Icon name='left' onClick={onclickBack}/>\r\n                    <span>编辑标签</span>\r\n                    <Icon/>\r\n                </Topbar>\r\n                <InputWrapper>\r\n                    确定要删除点击记账记录？\r\n                </InputWrapper>\r\n\r\n                <Center>\r\n                    <Space/>\r\n                    <Space/>\r\n                    <Space/>\r\n                    <Space/>\r\n                    <Space/>\r\n                    <Button onClick={() => {\r\n                        deleteRecords(tag.createdAt)\r\n                    }}>删除标签</Button>\r\n                </Center>\r\n\r\n            </Layout>\r\n\r\n        )\r\n    } else {\r\n        return (\r\n            <Layout>\r\n                <Center>\r\n                    标签已删除，点击下方导航栏返回\r\n                </Center>\r\n\r\n            </Layout>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport {Statistic}","import React from 'react';\nimport {HashRouter as Router, Redirect, Route, Switch} from 'react-router-dom';\nimport Money from './views/Money';\nimport Statistics from './views/Statistics';\nimport Tags from './views/Tags';\nimport NoMatch from './views/NotMatch';\nimport styled from 'styled-components';\nimport {Tag} from './views/Tag';\nimport {Statistic} from './views/Statistic';\nconst AppWrapper = styled.div`\ncolor: #333;\n\n`\n\nfunction App() {\n    return (\n        <AppWrapper>\n        <Router>\n            <Switch>\n                <Route path=\"/tags/:id\" exact={true}>\n                <Tag/>\n               </Route>\n\n                <Route path=\"/tags\" exact={true}>\n                    <Tags/>\n                </Route>\n\n                <Route path=\"/money\" exact={true}>\n                    <Money/>\n                </Route>\n                <Route path=\"/statistics/:id\" exact={true}>\n                    <Statistic/>\n                </Route>\n\n                <Route path=\"/statistics\" exact={true}>\n                    <Statistics/>\n                </Route>\n                <Redirect exact from=\"/\" to=\"/money\"/>\n                <Route path=\"*\">\n                    <NoMatch/>\n                </Route>\n            </Switch>\n\n\n    </Router>\n        </AppWrapper>);\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\n\nReactDOM.render(\n\n    <App />,\n\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}